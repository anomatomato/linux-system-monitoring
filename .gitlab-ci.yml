stages:
  - build


build:
    stage: build
    image: gcc:latest # Verwende ein geeignetes Docker-Image
    script:
        - apt-get update && apt-get install -y cmake
        - git clone https://github.com/eclipse/paho.mqtt.c.git
        - cd paho.mqtt.c
        - mkdir build
        - cd build
        - cmake -DCMAKE_INSTALL_PREFIX=/usr/local/paho-mqtt ..
        - make
        - make install
        - cd ..
        - mkdir -p build && cd build
        - cmake ..
        - make
    artifacts:
      paths:
          - build/bridge-exec
